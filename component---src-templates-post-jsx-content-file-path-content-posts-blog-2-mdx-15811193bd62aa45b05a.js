"use strict";(self.webpackChunkmy_portfolio=self.webpackChunkmy_portfolio||[]).push([[677],{9879:function(e,n,t){t.r(n),t.d(n,{default:function(){return m}});var a=t(1151),s=t(7294);function l(e){const n=Object.assign({h2:"h2",a:"a",span:"span",p:"p",ol:"ol",li:"li"},(0,a.ah)(),e.components);return s.createElement(s.Fragment,null,s.createElement(n.h2,{id:"-access-denied",style:{position:"relative"}},s.createElement(n.a,{href:"#-access-denied","aria-label":" access denied permalink",className:"anchor-header before"},s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"🚨 access denied,,,?"),"\n",s.createElement(n.p,null,"이제 게스트 페이지까지 뚝~딱 만들고 배포를 했습니다.\nGithub Action도 잘 돌아간것까지 확인했습니다!!"),"\n",s.createElement(n.p,null,"그리고 블로그도 쨘~ 하고 잘 떴습니다.\n이제 게스트 페이지가 너무 텅텅~~ 비어있어서 친구한테 나....방명록 좀 남겨줘라고 부탁을 했습니다."),"\n",s.createElement(n.p,null,"이거 깃허브 로그인 버튼 누르면 access denied 화면 뜨는디??? 모르겄다잉~"),"\n",s.createElement(n.p,null,"흐갸갹.. 제가 확인을 해보니 정말로 버튼을 누르면 저 화면이 뜨더랍니다....."),"\n",s.createElement(n.p,null,"근데 계속해서 보니"),"\n",s.createElement(n.p,null,"utterances의 문제가 아니라 걍 게스트페이지로 접근을 못하고 있더랍니다.\n그래서 의심스러운 것이 아!! 지금 CloudFront가 어떤 파일을 보여줘야 할 지 못찾고 있구나!"),"\n",s.createElement(n.h2,{id:"-문제가-무엇이냐",style:{position:"relative"}},s.createElement(n.a,{href:"#-%EB%AC%B8%EC%A0%9C%EA%B0%80-%EB%AC%B4%EC%97%87%EC%9D%B4%EB%83%90","aria-label":" 문제가 무엇이냐 permalink",className:"anchor-header before"},s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"🧐 문제가 무엇이냐!"),"\n",s.createElement(n.p,null,"문제는 바로 index.html 때문이었습니다."),"\n",s.createElement(n.p,null,"이게 뭔말..?"),"\n",s.createElement(n.p,null,"자 저는 정적 파일들을 S3에 올려놓고 이것을 CloudFront로 배포를 진행했습니다. 물론 S3를 통해서도 배포가 가능하지만 빠르고 효율적으로 제공하기 위해서 CloudFront를 사용했습니다."),"\n",s.createElement(n.p,null,'따라서 public으로 배포되어져 있는 정적 파일들을 매칭시켜줘야 합니다. 허나 제 CloudFront는 여기서 "index.html" 이라는 파일명을 지정해주지 않아서 "내가 뭘 보여줘야 할 지 모르겄다잉.." 이러고 있는겁니다!'),"\n",s.createElement(n.h2,{id:"-문제해결",style:{position:"relative"}},s.createElement(n.a,{href:"#-%EB%AC%B8%EC%A0%9C%ED%95%B4%EA%B2%B0","aria-label":" 문제해결 permalink",className:"anchor-header before"},s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"🔨 문제해결!"),"\n",s.createElement("a",{href:"https://docs.aws.amazon.com/ko_kr/AmazonCloudFront/latest/DeveloperGuide/example-function-add-index.html",className:"text-h-blue hover:text-blue-900"},s.createElement(n.p,null,"공식문서")),"\n",s.createElement(n.p,null,"아주 친절하게 이에 대한 해결법을 공식문서로 제공하고 있었습니다!"),"\n",s.createElement(n.h2,{id:"공식문서-따라하기",style:{position:"relative"}},s.createElement(n.a,{href:"#%EA%B3%B5%EC%8B%9D%EB%AC%B8%EC%84%9C-%EB%94%B0%EB%9D%BC%ED%95%98%EA%B8%B0","aria-label":"공식문서 따라하기 permalink",className:"anchor-header before"},s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"공식문서 따라하기"),"\n",s.createElement(n.ol,null,"\n",s.createElement(n.li,null,"\n",s.createElement(n.p,null,"CloudFront에 접속"),"\n"),"\n",s.createElement(n.li,null,"\n",s.createElement(n.p,null,"함수 카테고리로 이동"),"\n"),"\n"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 300px; margin:20px;"\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/ee6f294b697b3ed3612501ff7c25da9f/7c1cd/blog-2-1.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 148%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAACXBIWXMAABYlAAAWJQFJUiTwAAACyUlEQVR42q1VW08TQRTuqyb4okYTJCZNSihEFBGJkIARKhqNt0QeNJroi2/+BXyAirRKCUX/gTG+eSEmvhETQmK8YCkVti2U3ii0pbR76V5mPzNT26REkNI9yZed2Z359pw53zljamy3of/BY1y/+wjWth6YT3Wj7+Z99Fy7g9buq+i63I/G9otoaOlEZ9cFWE+cxsnWc2g52wlzfVM5LE0wHbWcwaU+G3p7zqO2vhUH6ppx5fZD2G7cg7WtFx22WzjW2IGDdQ2wNDTjSK0Zxy1NqDNbsa/mUBn21xyGacg5gaeOUdgdLgw63bA73Rh0jDM8GXZhwD6KIacbI65XsDvGMDI6gWcv3Bh+Pg6H62UJ9P2QYwwmGGSEEKiqWiBMpzfw/sMkpqa+sOfrN28xPT2Dj5OfsLjIsQ2qqkHTSAl0Ti0SjWMlEgPRdaQzmQKhLMsIBpfAcX745n0IhVYQjcbA+QPsZ9R0/d+e8YIIQZSg6zo2s1mY6EDfbvVfK67ZDiwCTSsnLIKexVbsRFb8rhUJKTudhMNR8LxQVVLKCAPBJWxmc6UQqyQkSKbSyOV4YzxUFAXBQADJZNIYwryqI5SRIalkR4nsmjAtKHg3t4Z4VjaGkJokiRB4HpKUhyCKTPmSQqARfW9Z9voW8GtuHsnUBhY5P+LJDD4vpJDI5gteV+rhVrnQsayRXYdfIsznCyHG4gkmnVh8FaIo7v0MVxNrCEei+P7Tg0BwGdMzX7G6tl6xwMtCphtpL1MUlWmy6koRJQlLyyvgAkHMerwQBLF6D2VFYS0Iu2hn/yWkDZZKJpFYN6Y5MA9lmYnZkFqm1bEcCiPH88Z4SIgOKS+ziqnaw9KdoKosMQXpqOwIaJ+smDAaiyMUjsDj9WFu/nehpj1eJvBU6cbTKw2ZIE+TQggLW5YVdu/uWYe0OhY4PxP3tx+zSFRRen8AZnW6Xlc/AKIAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="blog-2-1"\n        title=""\n        src="/static/ee6f294b697b3ed3612501ff7c25da9f/5a46d/blog-2-1.png"\n        srcset="/static/ee6f294b697b3ed3612501ff7c25da9f/1db73/blog-2-1.png 75w,\n/static/ee6f294b697b3ed3612501ff7c25da9f/8a4e8/blog-2-1.png 150w,\n/static/ee6f294b697b3ed3612501ff7c25da9f/5a46d/blog-2-1.png 300w,\n/static/ee6f294b697b3ed3612501ff7c25da9f/fc2a6/blog-2-1.png 450w,\n/static/ee6f294b697b3ed3612501ff7c25da9f/7c1cd/blog-2-1.png 582w"\n        sizes="(max-width: 300px) 100vw, 300px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n  </a>\n    </span>'}}),"\n",s.createElement(n.ol,{start:"3"},"\n",s.createElement(n.li,null,"공식문서를 참조해 함수 생성 (제목과 설명은 자율)"),"\n"),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 300px; margin:20px;"\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/44adc4c7bd14f8df9eeb1915387fb511/62da8/blog-2-2.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 9.333333333333334%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAZ0lEQVR42k3K0QqDMBBEUf//GwtVIe5ikg2aNCBobrH1IQ+HGZgZrvMklIPX+uEdKqNVxljx+YDWaJ37KyIsiyCqOOeYphkRRVXx3jPkUrBtZ01//knbMvfW23MmRCPESDT76bulxBdB+ZgyavW68wAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n  ></span>\n  <img\n        class="gatsby-resp-image-image"\n        alt="blog-2-2"\n        title=""\n        src="/static/44adc4c7bd14f8df9eeb1915387fb511/5a46d/blog-2-2.png"\n        srcset="/static/44adc4c7bd14f8df9eeb1915387fb511/1db73/blog-2-2.png 75w,\n/static/44adc4c7bd14f8df9eeb1915387fb511/8a4e8/blog-2-2.png 150w,\n/static/44adc4c7bd14f8df9eeb1915387fb511/5a46d/blog-2-2.png 300w,\n/static/44adc4c7bd14f8df9eeb1915387fb511/fc2a6/blog-2-2.png 450w,\n/static/44adc4c7bd14f8df9eeb1915387fb511/0a47e/blog-2-2.png 600w,\n/static/44adc4c7bd14f8df9eeb1915387fb511/62da8/blog-2-2.png 1262w"\n        sizes="(max-width: 300px) 100vw, 300px"\n        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n        loading="lazy"\n        decoding="async"\n      />\n  </a>\n    </span>'}}),"\n",s.createElement(n.p,null,"코드는 아래와 같습니다."),"\n",s.createElement(n.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">handler</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">var</span> request <span class="token operator">=</span> event<span class="token punctuation">.</span>request<span class="token punctuation">;</span>\n  <span class="token keyword">var</span> uri <span class="token operator">=</span> request<span class="token punctuation">.</span>uri<span class="token punctuation">;</span>\n\n  <span class="token comment">// Check whether the URI is missing a file name.</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>uri<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    request<span class="token punctuation">.</span>uri <span class="token operator">+=</span> <span class="token string">"index.html"</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n  <span class="token comment">// Check whether the URI is missing a file extension.</span>\n  <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>uri<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">"."</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    request<span class="token punctuation">.</span>uri <span class="token operator">+=</span> <span class="token string">"/index.html"</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token keyword">return</span> request<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code></pre></div>'}}),"\n",s.createElement(n.p,null,"이제 방명록을 남길 수 있게 되었습니다! 야호~"))}var c=function(e){void 0===e&&(e={});const{wrapper:n}=Object.assign({},(0,a.ah)(),e.components);return n?s.createElement(n,e,s.createElement(l,e)):l(e)},o=t(4160),r=t(341),i=t(4194);const p={Link:o.rU};const d=80;function u(e){let{data:n,children:t}=e;const{0:l,1:c}=(0,s.useState)(""),{0:o,1:u}=(0,s.useState)({y:0}),m=e=>{u({y:window.scrollY})};return(0,s.useEffect)((()=>(console.log(o),window.addEventListener("scroll",m),(e=>{let n;const t=document.querySelectorAll(".anchor-header");console.log(t);for(const a of Array.from(t)){const{top:s}=a.getBoundingClientRect(),l=s+e.y,o=a===t[t.length-1];if(e.y<l-d){n&&c(n),!n&&c("");break}{const e=a.getAttribute("href");e&&(o?c(decodeURI(e)):n=decodeURI(e))}}})(o),()=>window.removeEventListener("scroll",m))),[o]),s.createElement(r.Z,{category:";"},s.createElement("div",{className:"md:w-4/6 w-full h-fit flex flex-row gap-10 px-10 justify-center"},s.createElement("div",{className:"grow"},s.createElement("div",{className:"font-extrabold items-start text-4xl text-h-blue mb-4"},n.mdx.frontmatter.title),s.createElement("div",{className:"border-b-4 border-h-blue mb-4"}),s.createElement("div",{className:"h-fit -z-10"},s.createElement(a.Zo,{components:p},t)),s.createElement("div",{className:"items-start mb-4 h-fit text-h-gray mt-4"},n.mdx.frontmatter.date.split("T").shift())),s.createElement("div",{className:"flex-none w-40 self-start sticky top-28 md:visible invisible"},s.createElement(i.Z,{toc:n.mdx.tableOfContents,currentHeaderUrl:l}))))}function m(e){return s.createElement(u,e,s.createElement(c,e))}},4194:function(e,n,t){t.d(n,{Z:function(){return s}});var a=t(7294);function s(e){let{toc:n,currentHeaderUrl:t}=e;return a.createElement(l,{toc:n,currentHeaderUrl:t})}const l=e=>{let{toc:n,currentHeaderUrl:t}=e;return a.createElement("div",null,n.items&&n.items.map((e=>a.createElement("div",{key:e.title},a.createElement("a",{href:e.url,className:"hover:text-h-blue "+(e.url===t?"text-h-blue":"text-h-gray")},e.title),e.items&&a.createElement(l,{toc:e})))))}},1151:function(e,n,t){t.d(n,{Zo:function(){return o},ah:function(){return l}});var a=t(7294);const s=a.createContext({});function l(e){const n=a.useContext(s);return a.useMemo((()=>"function"==typeof e?e(n):{...n,...e}),[n,e])}const c={};function o({components:e,children:n,disableParentContext:t}){let o;return o=t?"function"==typeof e?e({}):e||c:l(e),a.createElement(s.Provider,{value:o},n)}}}]);
//# sourceMappingURL=component---src-templates-post-jsx-content-file-path-content-posts-blog-2-mdx-15811193bd62aa45b05a.js.map